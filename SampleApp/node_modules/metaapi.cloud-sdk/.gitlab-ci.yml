stages:
  - build

build:
  image: node:10
  stage: build
  artifacts:
    when: always
    paths:
      - dist
      - test.log
      - lint.log
  script:
    - export SERVER=ICMarketsSC-Demo
    - export PATH_TO_SERVERS_DAT=./lib/integration-tests/files/servers.dat
    - npm install
    - npm run test | tee test.log
    - npm run lint | tee lint.log
    - npm run build
